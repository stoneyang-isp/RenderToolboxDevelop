
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"  
"http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv=Content-Type content="text/html; charset=UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Gmail - Your pbrt on gitHub</title>
<style type="text/css">
body, td{font-family:arial,sans-serif;font-size:13px} a:link, a:active {color:#1155CC; text-decoration:none} a:hover {text-decoration:underline; cursor: pointer} a:visited{color:##6611CC} img{border:0px} pre { white-space: pre; white-space: -moz-pre-wrap; white-space: -o-pre-wrap; white-space: pre-wrap; word-wrap: break-word; max-width: 800px; overflow: auto;}
</style>
<script type="text/javascript" 
  
>// <![CDATA[
function Print(){document.body.offsetHeight;window.print()};
// ]]>
</script>
</head>
<body onload="Print()">
<div class="bodycontainer">
<table width=100% cellpadding=0 cellspacing=0 border=0>
<tr height=14px>
<td width=143>
<img src="/mail/help/images/logo1.gif"
width=143 height=59 alt="Gmail">
</td>
<td align=right>
<font size=-1 color=#777><b>
Benjamin Heasly
&lt;benjamin.heasly@gmail.com&gt;
</b></font></td>
</tr>
</table>
<hr>
<div class="maincontent">
<table width=100% cellpadding=0 cellspacing=0 border=0>
<tr>
<td>
<font size=+1>
<b>Your pbrt on gitHub</b></font><br>
<font size=-1 color=#777>3 messages</font>
</td>
</tr>
</table>
<hr>
<table width=100% cellpadding=0 cellspacing=0 border=0 class="message">
<tr>
<td>
<font size=-1><b>
David Brainard
</b>
&lt;brainard@psych.upenn.edu&gt;
</font>
</td>
<td align=right>
<font size=-1>
Fri, Jan 10, 2014 at 9:37 AM
</font>
<tr>
<td colspan=2>
<font size=-1 class="recipient">
<div>
To:
Andy Lai Lin &lt;ydna@stanford.edu&gt;
</div>
<div>
Cc:
&quot;benjamin.heasly@gmail.com Heasly&quot; &lt;benjamin.heasly@gmail.com&gt;
</div>
</font>
<tr>
<td colspan=2>
<table width=100% cellpadding=12 cellspacing=0 border=0>
<tr>
<td>
<div style="overflow: hidden;">
<font size=-1><div style="word-wrap:break-word"><div><br></div>Hi Andy,<div><br></div><div>Ben and I wanted to play around a bit with your pbrt, particularly to see if we can do some rendering that mimics the eye&#39;s depth of field.  As I recall, you have this working</div><div>in some version of pbrt-v2-spectral.</div><div><br></div><div>Question.  There are several branches on your gitHub site.  The &quot;master&quot; looks to be about 9 months old.  The &quot;sprectral&quot; branch is more recent, but differs in both directions from</div><div>the master.   Do you have a view of which is the best to use these days, particularly for the above purpose.</div><div><br></div><div>And, is there any documentation?  The usersguide on gitHub is a placeholder.</div><div><br></div><div>Best,</div><div><br></div><div>David<br><div>
<div style="text-indent:0px;letter-spacing:normal;font-variant:normal;text-align:-webkit-auto;font-style:normal;font-weight:normal;line-height:normal;text-transform:none;font-size:medium;white-space:normal;font-family:Helvetica;word-wrap:break-word;word-spacing:0px"><div style="text-indent:0px;letter-spacing:normal;font-variant:normal;text-align:-webkit-auto;font-style:normal;font-weight:normal;line-height:normal;text-transform:none;font-size:medium;white-space:normal;font-family:Helvetica;word-wrap:break-word;word-spacing:0px"><div style="text-indent:0px;letter-spacing:normal;font-variant:normal;text-align:-webkit-auto;font-style:normal;font-weight:normal;line-height:normal;text-transform:none;font-size:medium;white-space:normal;font-family:Helvetica;word-wrap:break-word;word-spacing:0px"><br>=========<br>David H. Brainard<br>RRL Professor of Psychology<br>Director, Vision Research Center<br>Director, Institute for Research in Cognitive Science<br>University of Pennsylvania<br>3401 Walnut Street, Suite 400A (mail address)<br>3401 Walnut Street, Room 315C (office location)<br>Philadelphia, PA, 19104<br>Phone: <a href="tel:215-573-7579" value="+12155737579" target="_blank">215-573-7579</a><br>Email: <a href="mailto:brainard@psych.upenn.edu" target="_blank">brainard@psych.upenn.edu</a><br>Web: <a href="http://color.psych.upenn.edu/brainard" target="_blank">http://color.psych.upenn.edu/<WBR>brainard</a></div></div></div>
</div>
<br></div></div></font>
</div>
</table>
</table>
<hr>
<table width=100% cellpadding=0 cellspacing=0 border=0 class="message">
<tr>
<td>
<font size=-1><b>
Andy Lai Lin
</b>
&lt;ydna@stanford.edu&gt;
</font>
</td>
<td align=right>
<font size=-1>
Fri, Jan 10, 2014 at 6:44 PM
</font>
<tr>
<td colspan=2>
<font size=-1 class="recipient">
<div>
To:
David Brainard &lt;brainard@psych.upenn.edu&gt;
</div>
<div>
Cc:
&quot;benjamin.heasly@gmail.com Heasly&quot; &lt;benjamin.heasly@gmail.com&gt;
</div>
</font>
<tr>
<td colspan=2>
<table width=100% cellpadding=12 cellspacing=0 border=0>
<tr>
<td>
<div style="overflow: hidden;">
<font size=-1>Hi Professor Brainard and Ben,<br />
<br />
It's good to hear from you. &nbsp;I apologize for the lack documentation on the github repository.<br />
<br />
The spectral branch is the most updated branch, so please use that code. &nbsp;The reason why it shows that master is more updated is that I had to back track some unwanted changes at some point.<br />
<br />
The DOF blur is made possible by using a modified camera module. &nbsp; I've attached 2 PBRT scenes for you guys, each using one of the two modified camera modules that we have created. &nbsp;Both of them are test scenes that produce a psf from an input point and should run out of the box. &nbsp;The first scene uses an ideal thin lens camera model, and the second scene uses a realistic lens camera model (a lens with multiple lens elements).<br />
<br />
The idealLens model should be self explanatory from the example .pbrt files. &nbsp;All units are in millimeters. &nbsp;filmdiag refers to the diagonal length of the sensor. &nbsp;The realisticDiffraction model is also mostly self explanatory. One thing to keep in mind is that I have enabled diffraction on both of these files. &nbsp;You may find it better to disable it since it requires far less samples per pixel for a good render. &nbsp;The realisticDiffraction model points to a lens file (in the example, 'dgauss.50mm.dat'). &nbsp;This format was originally proposed in the Stanford CS348 ray-tracing class, so please see the &quot;Set up the camera&quot; section of this website for a description of how this spec file works: <a href="http://candela.stanford.edu/index.php/article/6" target="_blank">http://candela.stanford.edu/<wbr />index.php/article/6</a><br />
<br />
Do note that PBRT does in fact come with a perspectiveCamera module that DOES allow for DOF blur. &nbsp;However, this DOF blur is not physically accurate, and also difficult to control, so we no longer use the perspectiveCamera in our simulations. The reason I mentioned this is that you may find this module to be sufficient.<br />
<br />
Let me know if you have any questions,<br />
<br />
-Andy<br />
<div style='padding:5 0'><font size=1 color=#888888>[Quoted text hidden]</font></div></font>
</div>
<br clear=all>
<div style="width:50%;border-top:2px #AAAAAA solid"></div>
<table class=att cellspacing=0 cellpadding=5 border=0><tr><td><table cellspacing=0 cellpadding=0><tr><td><a target=_blank href="?ui=2&amp;ik=bec64b877e&amp;view=att&amp;th=1437e8ac41b88705&amp;attid=0.1&amp;disp=attd&amp;safe=1&amp;zw"><img width=16 height=16 src="/mail/u/0/images/zip.gif"></a></td><td width=7></td><td><b>pointTest.zip</b><br/>52K </td></tr></table></td></tr></table>
</table>
</table>
<hr>
<table width=100% cellpadding=0 cellspacing=0 border=0 class="message">
<tr>
<td>
<font size=-1><b>
David Brainard
</b>
&lt;brainard@psych.upenn.edu&gt;
</font>
</td>
<td align=right>
<font size=-1>
Mon, Jan 13, 2014 at 8:50 AM
</font>
<tr>
<td colspan=2>
<font size=-1 class="recipient">
<div>
To:
Andy Lai Lin &lt;ydna@stanford.edu&gt;
</div>
<div>
Cc:
&quot;benjamin.heasly@gmail.com Heasly&quot; &lt;benjamin.heasly@gmail.com&gt;
</div>
</font>
<tr>
<td colspan=2>
<table width=100% cellpadding=12 cellspacing=0 border=0>
<tr>
<td>
<div style="overflow: hidden;">
<font size=-1><br />
Thanks! &nbsp;We'll play with this and let you know if we have any problems.<br />
<br />
Best,<br />
<br />
David<br />
<div style='padding:5 0'><font size=1 color=#888888>[Quoted text hidden]</font></div>&gt; &lt;pointTest.zip&gt;<br />
<div style='padding:5 0'><font size=1 color=#888888>[Quoted text hidden]</font></div></font>
</div>
</table>
</table>
</div>
</div>
</body>
</html>
